"use strict";const newWhoPreview=document.getElementById("newWhoPreview");const newWhoInput=document.getElementById("newWhoInput");const newWatPreview=document.getElementById("newWatPreview");const newWatInput=document.getElementById("newWatInput");const dudes=document.getElementById("dudes");let li=document.createElement("li");const submitForm=document.getElementById("submitForm");const coolnes=document.getElementById("coolnes");let characters=[];newWhoInput.addEventListener("input",()=>{newWhoPreview.innerText=newWhoInput.value});newWatInput.addEventListener("input",()=>{newWatPreview.innerText=newWatInput.value});const clear=()=>{newWhoInput.value="";newWatInput.value="";newWhoPreview.innerText="";newWatPreview.innerText="";newWhoInput.focus()};window.onload=async()=>{await fetchCharacters();initDudes()};const fetchCharacters=async()=>{characters=JSON.parse(localStorage.getItem("characters"));if(characters==null){characters=[{id:1,who:"Finn the Human",wat:"A silly kid who wants to become a great hero one day.",cool:9},{id:2,who:"Jake the Dog",wat:"Finn's best friend is a wise, old dog with a big heart.",cool:42},{id:3,who:"Ice King",wat:"Armed with a magic crown and an icy heart.",cool:0},{id:4,who:"Princess Bubblegum",wat:"A millionaire nerd enthusiast.",cool:24},{id:5,who:"Marcy the Vampire",wat:"Marceline is a wild rocker girl.",cool:9}];storeCharacters(characters)}characters=characters.sort((a,b)=>{return a.id-b.id})};const initDudes=value=>{dudes.innerHTML="";characters.forEach(dude=>{let li=document.createElement("li");li.innerHTML='<a class="ctrl" onclick="deleteDude('.concat(dude.id,')">x</a>\n    \n    <article>\n    ').concat(dude.who,"\n    <span>").concat(dude.wat,'</span>\n    </article>\n    \n    <input class="ctrl coolnesInput" type="number" value="').concat(dude.cool,'" onchange="updateCoolnes(').concat(dude.id,')" />');if(dude.cool>50)li.children[1].classList.add("gold");if(dude.cool<10)li.children[1].classList.add("faded");if(value!=="delete"){li.classList.add("dude","animate__animated","animate__zoomInDown")}li.dataset.id=dude.id;dudes.append(li)})};const createDude=()=>{const dude=characters.filter(character=>character.id===Math.max(...characters.map(character=>character.id)));li.innerHTML='<a class="ctrl" onclick="deleteDude('.concat(dude[0].id,')">x</a>\n    \n    <article>\n    ').concat(dude[0].who,"\n    <span>").concat(dude[0].wat,'</span>\n    </article>\n    \n    <input class="ctrl coolnesInput" type="number" value="15" onchange="updateCoolnes(').concat(dude[0].id,')" />');li.classList.add("dude","animate__animated","animate__zoomInDown");dudes.append(li)};submitForm.addEventListener("keydown",event=>{if(event.key=="Enter"){characters.push({id:Math.max(...characters.map(character=>character.id))+1,who:newWhoInput.value,wat:newWatInput.value,cool:15});storeCharacters(characters);createDude();clear()}});const deleteDude=id=>{const list=document.querySelector('[data-id="'.concat(id,'"]'));list.classList.add("animate__zoomOutDown");setTimeout(()=>{initDudes("delete")},1e3);characters=characters.filter(dude=>dude.id!==id);storeCharacters(characters)};const storeCharacters=characters=>{localStorage.setItem("characters",JSON.stringify(characters))};const updateCoolnes=(id,value)=>{const dude=document.querySelector('[data-id="'.concat(id,'"]'));dude.classList.remove("animate__animated","animate__zoomInDown");const coolnesInput=document.querySelectorAll(".coolnesInput");const index=characters.findIndex(dude=>dude.id==id);if(+coolnesInput[index].value>50){dude.children[1].classList.add("gold")}else{dude.children[1].classList.remove("gold")}if(+coolnesInput[index].value<10){dude.children[1].classList.add("faded")}else{dude.children[1].classList.remove("faded")}characters[index].cool=+coolnesInput[index].value;storeCharacters(characters)};